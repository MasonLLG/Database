SQL> 
SQL> --student id: 34274723
SQL> --student name: Jichao Liang
SQL> 
SQL> -- Generated by Oracle SQL Developer Data Modeler 24.3.1.351.0831
SQL> --   at:        2025-05-02 00:43:27 AEST
SQL> --   site:      Oracle Database 12c
SQL> --   type:      Oracle Database 12c
SQL> 
SQL> 
SQL> 
SQL> DROP TABLE ADDRESS CASCADE CONSTRAINTS 
  2  ;

Table ADDRESS已删除。

SQL> 
SQL> DROP TABLE BOOKING CASCADE CONSTRAINTS 
  2  ;

Table BOOKING已删除。

SQL> 
SQL> DROP TABLE CABIN CASCADE CONSTRAINTS 
  2  ;

Table CABIN已删除。

SQL> 
SQL> DROP TABLE CRUISE CASCADE CONSTRAINTS 
  2  ;

Table CRUISE已删除。

SQL> 
SQL> DROP TABLE MANIFEST CASCADE CONSTRAINTS 
  2  ;

Table MANIFEST已删除。

SQL> 
SQL> DROP TABLE OPERATOR CASCADE CONSTRAINTS 
  2  ;

Table OPERATOR已删除。

SQL> 
SQL> DROP TABLE PASSENGER CASCADE CONSTRAINTS 
  2  ;

Table PASSENGER已删除。

SQL> 
SQL> DROP TABLE SHIP CASCADE CONSTRAINTS 
  2  ;

Table SHIP已删除。

SQL> 
SQL> -- predefined type, no DDL - MDSYS.SDO_GEOMETRY
SQL> 
SQL> -- predefined type, no DDL - XMLTYPE
SQL> 
SQL> CREATE TABLE ADDRESS 
  2      ( 
  3       addr_no      NUMBER (7)  NOT NULL , 
  4       street       VARCHAR2 (50)  NOT NULL , 
  5       town         VARCHAR2 (50)  NOT NULL , 
  6       postcode     CHAR (10)  NOT NULL , 
  7       country_name VARCHAR2 (50)  NOT NULL 
  8      ) 
  9  ;

Table ADDRESS 已创建。

SQL> 
SQL> COMMENT ON COLUMN ADDRESS.addr_no IS 'Address number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN ADDRESS.street IS 'Address street' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN ADDRESS.town IS 'Address town' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN ADDRESS.postcode IS 'Address postcode' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN ADDRESS.country_name IS 'Address country name' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE ADDRESS 
  2      ADD CONSTRAINT ADDRESS_PK PRIMARY KEY ( addr_no ) ;

Table ADDRESS已变更。

SQL> 
SQL> CREATE TABLE BOOKING 
  2      ( 
  3       bk_no     NUMBER (7)  NOT NULL , 
  4       pas_id    NUMBER (7)  NOT NULL , 
  5       cruise_id NUMBER (7)  NOT NULL , 
  6       cab_no    NUMBER (7)  NOT NULL , 
  7       ship_code NUMBER (7)  NOT NULL , 
  8       mani_name VARCHAR2 (50)  NOT NULL 
  9      ) 
 10  ;

Table BOOKING 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.bk_no IS 'Booking number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.pas_id IS 'Passenger ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.cruise_id IS 'Cruise ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.cab_no IS 'Cabin number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.ship_code IS 'Ship code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN BOOKING.mani_name IS 'Manifest name' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT BOOKING_PK PRIMARY KEY ( bk_no ) ;

Table BOOKING已变更。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT BOOKING_NK UNIQUE ( pas_id , cruise_id , cab_no , ship_code ) ;

Table BOOKING已变更。

SQL> 
SQL> CREATE TABLE CABIN 
  2      ( 
  3       cab_no       NUMBER (7)  NOT NULL , 
  4       ship_code    NUMBER (7)  NOT NULL , 
  5       slp_capacity CHAR (10)  NOT NULL , 
  6       cab_class    CHAR (10)  NOT NULL 
  7      ) 
  8  ;

Table CABIN 已创建。

SQL> 
SQL> ALTER TABLE CABIN 
  2      ADD CONSTRAINT chk_cabclass 
  3      CHECK (cab_class IN ('B', 'I', 'O', 'S')) 
  4  ;

Table CABIN已变更。

SQL> 
SQL> COMMENT ON COLUMN CABIN.cab_no IS 'Cabin number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CABIN.ship_code IS 'Ship code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CABIN.slp_capacity IS 'Cabin sleeping capacity' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CABIN.cab_class IS 'Cabin class, I-Interior, O-Ocean view, B-Balcony, S-Suite' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE CABIN 
  2      ADD CONSTRAINT CABIN_PK PRIMARY KEY ( cab_no, ship_code ) ;

Table CABIN已变更。

SQL> 
SQL> CREATE TABLE CRUISE 
  2      ( 
  3       cruise_id           NUMBER (7)  NOT NULL , 
  4       departure_date_time DATE  NOT NULL , 
  5       cruise_name         VARCHAR2 (50)  NOT NULL , 
  6       description         VARCHAR2 (100)  NOT NULL , 
  7       ship_code           NUMBER (7)  NOT NULL 
  8      ) 
  9  ;

Table CRUISE 已创建。

SQL> 
SQL> COMMENT ON COLUMN CRUISE.cruise_id IS 'Cruise ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CRUISE.departure_date_time IS 'Departure date and time' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CRUISE.cruise_name IS 'Cruise name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CRUISE.description IS 'Cruise description' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN CRUISE.ship_code IS 'Ship code' 
  2  ;

Comment 已创建。

SQL> CREATE UNIQUE INDEX CRUISE__IDX ON CRUISE 
  2      ( 
  3       ship_code ASC 
  4      ) 
  5  ;

INDEX CRUISE__IDX 已创建。

SQL> 
SQL> ALTER TABLE CRUISE 
  2      ADD CONSTRAINT CRUISE_PK PRIMARY KEY ( cruise_id ) ;

Table CRUISE已变更。

SQL> 
SQL> CREATE TABLE MANIFEST 
  2      ( 
  3       mani_name         VARCHAR2 (50)  NOT NULL , 
  4       pas_bod_date_time DATE 
  5      ) 
  6  ;

Table MANIFEST 已创建。

SQL> 
SQL> COMMENT ON COLUMN MANIFEST.mani_name IS 'Manifest name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN MANIFEST.pas_bod_date_time IS 'Passenger boarding date and time if board ' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE MANIFEST 
  2      ADD CONSTRAINT MANIFEST_PK PRIMARY KEY ( mani_name ) ;

Table MANIFEST已变更。

SQL> 
SQL> CREATE TABLE OPERATOR 
  2      ( 
  3       op_id    NUMBER (7)  NOT NULL , 
  4       cp_name  VARCHAR2 (50)  NOT NULL , 
  5       ceo_name VARCHAR2 (50)  NOT NULL 
  6      ) 
  7  ;

Table OPERATOR 已创建。

SQL> 
SQL> COMMENT ON COLUMN OPERATOR.op_id IS 'Operator ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN OPERATOR.cp_name IS 'Operate company name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN OPERATOR.ceo_name IS 'Operate company CEO name' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE OPERATOR 
  2      ADD CONSTRAINT OPERATOR_PK PRIMARY KEY ( op_id ) ;

Table OPERATOR已变更。

SQL> 
SQL> CREATE TABLE PASSENGER 
  2      ( 
  3       pas_id      NUMBER (7)  NOT NULL , 
  4       pas_fstname VARCHAR2 (50)  NOT NULL , 
  5       pas_lstname VARCHAR2 (50)  NOT NULL , 
  6       pas_gender  CHAR (10)  NOT NULL , 
  7       gas_dob     DATE  NOT NULL , 
  8       gud_phone   CHAR (10) , 
  9       gud_id      NUMBER (7) , 
 10       addr_no     NUMBER (7)  NOT NULL , 
 11       pas_id1     NUMBER (7) 
 12      ) 
 13  ;

Table PASSENGER 已创建。

SQL> 
SQL> ALTER TABLE PASSENGER 
  2      ADD CONSTRAINT chk_pasgender 
  3      CHECK (pas_gender IN ('F', 'M', 'O')) 
  4  ;

Table PASSENGER已变更。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.pas_id IS 'Passenger ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.pas_fstname IS 'Passenger first name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.pas_lstname IS 'Passenger last name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.pas_gender IS 'Passenger gender, F-Female, M-Male, O-Others' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.gas_dob IS 'Passenger date of birth' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.gud_phone IS 'Passenger contact phone number.If minors, use guardian phone number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.gud_id IS 'Guardian ID if minors' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.addr_no IS 'Address number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN PASSENGER.pas_id1 IS 'Passenger ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE PASSENGER 
  2      ADD CONSTRAINT PASSENGER_PK PRIMARY KEY ( pas_id ) ;

Table PASSENGER已变更。

SQL> 
SQL> CREATE TABLE SHIP 
  2      ( 
  3       ship_code   NUMBER (7)  NOT NULL , 
  4       ship_name   VARCHAR2 (50)  NOT NULL , 
  5       com_date    DATE  NOT NULL , 
  6       ship_ton    CHAR (10)  NOT NULL , 
  7       max_gst_cap CHAR (10)  NOT NULL , 
  8       reg_country VARCHAR2 (50)  NOT NULL , 
  9       op_id       NUMBER (7)  NOT NULL , 
 10       cruise_id   NUMBER (7)  NOT NULL 
 11      ) 
 12  ;

Table SHIP 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.ship_code IS 'Ship code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.ship_name IS 'Ship name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.com_date IS 'Ship commission date' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.ship_ton IS 'Ship tonnage' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.max_gst_cap IS 'Ship maximum guest capacity' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.reg_country IS 'Ship register country' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.op_id IS 'Operator ID' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN SHIP.cruise_id IS 'Cruise ID' 
  2  ;

Comment 已创建。

SQL> CREATE UNIQUE INDEX SHIP__IDX ON SHIP 
  2      ( 
  3       cruise_id ASC 
  4      ) 
  5  ;

INDEX SHIP__IDX 已创建。

SQL> 
SQL> ALTER TABLE SHIP 
  2      ADD CONSTRAINT SHIP_PK PRIMARY KEY ( ship_code ) ;

Table SHIP已变更。

SQL> 
SQL> ALTER TABLE PASSENGER 
  2      ADD CONSTRAINT addr_pas_fk FOREIGN KEY 
  3      ( 
  4       addr_no
  5      ) 
  6      REFERENCES ADDRESS 
  7      ( 
  8       addr_no
  9      ) 
 10  ;

Table PASSENGER已变更。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT cab_bk_fk FOREIGN KEY 
  3      ( 
  4       cab_no,
  5       ship_code
  6      ) 
  7      REFERENCES CABIN 
  8      ( 
  9       cab_no,
 10       ship_code
 11      ) 
 12  ;

Table BOOKING已变更。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT cruise_bk_pk FOREIGN KEY 
  3      ( 
  4       cruise_id
  5      ) 
  6      REFERENCES CRUISE 
  7      ( 
  8       cruise_id
  9      ) 
 10  ;

Table BOOKING已变更。

SQL> 
SQL> ALTER TABLE SHIP 
  2      ADD CONSTRAINT cruise_ship_fk FOREIGN KEY 
  3      ( 
  4       cruise_id
  5      ) 
  6      REFERENCES CRUISE 
  7      ( 
  8       cruise_id
  9      ) 
 10  ;

Table SHIP已变更。

SQL> 
SQL> ALTER TABLE CRUISE 
  2      ADD CONSTRAINT cruise_ship_fkv2 FOREIGN KEY 
  3      ( 
  4       ship_code
  5      ) 
  6      REFERENCES SHIP 
  7      ( 
  8       ship_code
  9      ) 
 10  ;

Table CRUISE已变更。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT mani_bk_fk FOREIGN KEY 
  3      ( 
  4       mani_name
  5      ) 
  6      REFERENCES MANIFEST 
  7      ( 
  8       mani_name
  9      ) 
 10  ;

Table BOOKING已变更。

SQL> 
SQL> ALTER TABLE SHIP 
  2      ADD CONSTRAINT op_ship_fk FOREIGN KEY 
  3      ( 
  4       op_id
  5      ) 
  6      REFERENCES OPERATOR 
  7      ( 
  8       op_id
  9      ) 
 10  ;

Table SHIP已变更。

SQL> 
SQL> ALTER TABLE BOOKING 
  2      ADD CONSTRAINT pas_bk_pk FOREIGN KEY 
  3      ( 
  4       pas_id
  5      ) 
  6      REFERENCES PASSENGER 
  7      ( 
  8       pas_id
  9      ) 
 10  ;

Table BOOKING已变更。

SQL> 
SQL> ALTER TABLE PASSENGER 
  2      ADD CONSTRAINT pas_pas_fk FOREIGN KEY 
  3      ( 
  4       pas_id1
  5      ) 
  6      REFERENCES PASSENGER 
  7      ( 
  8       pas_id
  9      ) 
 10  ;

Table PASSENGER已变更。

SQL> 
SQL> ALTER TABLE CABIN 
  2      ADD CONSTRAINT ship_cab_fk FOREIGN KEY 
  3      ( 
  4       ship_code
  5      ) 
  6      REFERENCES SHIP 
  7      ( 
  8       ship_code
  9      ) 
 10  ;

Table CABIN已变更。

SQL> 
SQL> 
SQL> 
SQL> -- Oracle SQL Developer Data Modeler Summary Report: 
SQL> -- 
SQL> -- CREATE TABLE                             8
SQL> -- CREATE INDEX                             2
SQL> -- ALTER TABLE                             21
SQL> -- CREATE VIEW                              0
SQL> -- ALTER VIEW                               0
SQL> -- CREATE PACKAGE                           0
SQL> -- CREATE PACKAGE BODY                      0
SQL> -- CREATE PROCEDURE                         0
SQL> -- CREATE FUNCTION                          0
SQL> -- CREATE TRIGGER                           0
SQL> -- ALTER TRIGGER                            0
SQL> -- CREATE COLLECTION TYPE                   0
SQL> -- CREATE STRUCTURED TYPE                   0
SQL> -- CREATE STRUCTURED TYPE BODY              0
SQL> -- CREATE CLUSTER                           0
SQL> -- CREATE CONTEXT                           0
SQL> -- CREATE DATABASE                          0
SQL> -- CREATE DIMENSION                         0
SQL> -- CREATE DIRECTORY                         0
SQL> -- CREATE DISK GROUP                        0
SQL> -- CREATE ROLE                              0
SQL> -- CREATE ROLLBACK SEGMENT                  0
SQL> -- CREATE SEQUENCE                          0
SQL> -- CREATE MATERIALIZED VIEW                 0
SQL> -- CREATE MATERIALIZED VIEW LOG             0
SQL> -- CREATE SYNONYM                           0
SQL> -- CREATE TABLESPACE                        0
SQL> -- CREATE USER                              0
SQL> -- 
SQL> -- DROP TABLESPACE                          0
SQL> -- DROP DATABASE                            0
SQL> -- 
SQL> -- REDACTION POLICY                         0
SQL> -- TSDP POLICY                              0
SQL> -- 
SQL> -- ORDS DROP SCHEMA                         0
SQL> -- ORDS ENABLE SCHEMA                       0
SQL> -- ORDS ENABLE OBJECT                       0
SQL> -- 
SQL> -- ERRORS                                   0
SQL> -- WARNINGS                                 0
SQL> 
SQL> SPOOL off
